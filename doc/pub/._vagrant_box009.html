<html>
<head>
<!--
This style is adopted from the (now old) vagrant 1.0 web
pages. The style builds on the Twitter Bootstrap style.
Modifications by Hans Petter Langtangen, hpl@simula.no.

This style file should be copied and the following
elements edited:

Logo heading:

 LogoWord
 withSubWord

Navigation links at the top:

 GO TO 1
 GO TO 2

Footer at the end:

 Here goes a footer, if desired, maybe with a Copyright &copy;

-->

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/twitter_bootstrap.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/vagrant.css">

<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title>Problem setting</title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Vagrant<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
   <!-- Navigation at the top of the page -->
    <ul>
     <li> <a href="http://docs.vagrantup.com/v2/">Vagrant docs</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>


<!-- Here goes the table of contents in the sidebar
     <li class="active"> means dark blue background for current section
-->
<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
     <!-- Syntax:
     <li> <a href="...">Section 1</a></li>
     <li class="active"> <a href="...">Section 2</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2a</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2b</a></li>
     -->
     <!-- Doconce automatically fills in the table of contents -->
          <!-- navigation toc: "Problem setting" --> <li><a href="._vagrant_box001.html#___sec0" style="font-size: 80%;"><b>Problem setting</b></a></li>
     <!-- navigation toc: "Contents of the Vagrant machine" --> <li><a href="._vagrant_box001.html#vagrant:contents" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Contents of the Vagrant machine</a></li>
     <!-- navigation toc: "Installing the necessary software for using Vagrant" --> <li><a href="._vagrant_box002.html#vagrant:install" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Installing the necessary software for using Vagrant</a></li>
     <!-- navigation toc: "Creating the Vagrant machine" --> <li><a href="._vagrant_box003.html#___sec6" style="font-size: 80%;"><b>Creating the Vagrant machine</b></a></li>
     <!-- navigation toc: "Choice of operating system type" --> <li><a href="._vagrant_box003.html#___sec7" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Choice of operating system type</a></li>
     <!-- navigation toc: "Downloading a base box to create a complete Vagrant machine" --> <li><a href="._vagrant_box003.html#___sec8" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Downloading a base box to create a complete Vagrant machine</a></li>
     <!-- navigation toc: "Making an empty Vagrant machine" --> <li><a href="._vagrant_box003.html#___sec9" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Making an empty Vagrant machine</a></li>
     <!-- navigation toc: "Installing packages in a complete Vagrant machine" --> <li><a href="._vagrant_box004.html#vagrant:complete:install" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Installing packages in a complete Vagrant machine</a></li>
     <!-- navigation toc: "Installing packages in an empty Vagrant machine" --> <li><a href="._vagrant_box005.html#vagrant:empty:install" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Installing packages in an empty Vagrant machine</a></li>
     <!-- navigation toc: "Scripts for installing ready-made packages" --> <li><a href="._vagrant_box006.html#vagrant:debpkg" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Scripts for installing ready-made packages</a></li>
     <!-- navigation toc: "Setting up a default environment with `.bashrc`" --> <li><a href="._vagrant_box007.html#vagrant:bashrc" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Setting up a default environment with `.bashrc`</a></li>
     <!-- navigation toc: "Operating the Vagrant machine" --> <li><a href="._vagrant_box008.html#___sec18" style="font-size: 80%;"><b>Operating the Vagrant machine</b></a></li>
     <!-- navigation toc: "Operating a complete Vagrant machine" --> <li><a href="._vagrant_box008.html#___sec19" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Operating a complete Vagrant machine</a></li>
     <!-- navigation toc: "Operating an empty Vagrant machine" --> <li><a href="._vagrant_box008.html#___sec20" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Operating an empty Vagrant machine</a></li>
     <!-- navigation toc: "Working with an initialized Vagrant machine" --> <li><a href="._vagrant_box008.html#___sec21" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Working with an initialized Vagrant machine</a></li>
     <!-- navigation toc: "Shared directories" --> <li><a href="._vagrant_box008.html#vagrant:shareddir" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Shared directories</a></li>
     <!-- navigation toc: "Troubleshooting" --> <li><a href="._vagrant_box009.html#___sec23" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting</a></li>
     <!-- navigation toc: "Stopping the Vagrant machine" --> <li><a href="._vagrant_box009.html#___sec27" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Stopping the Vagrant machine</a></li>
     <!-- navigation toc: "Placing the Vagrant machine in the cloud" --> <li><a href="._vagrant_box009.html#___sec28" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Placing the Vagrant machine in the cloud</a></li>
     <!-- navigation toc: "Using VMWare Fusion" --> <li><a href="._vagrant_box009.html#___sec29" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using VMWare Fusion</a></li>
     <!-- navigation toc: "Documentation of Vagrant" --> <li><a href="._vagrant_box009.html#___sec30" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Documentation of Vagrant</a></li>
     <!-- navigation toc: "Appendix: Condensed instructions for students" --> <li><a href="._vagrant_box009.html#___sec31" style="font-size: 80%;"><b>Appendix: Condensed instructions for students</b></a></li>
     <!-- navigation toc: "Troubleshooting: shared directory is invisible" --> <li><a href="._vagrant_box009.html#___sec32" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting: shared directory is invisible</a></li>
     <!-- navigation toc: "Troubleshooting: "couldn't connect to display ..."" --> <li><a href="._vagrant_box009.html#___sec33" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting: "couldn't connect to display ..."</a></li>
     <!-- navigation toc: "Troubleshooting: Internet is not reachable" --> <li><a href="._vagrant_box009.html#___sec34" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting: Internet is not reachable</a></li>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 1,
 'sections': [(' Problem setting ', 1, None, '___sec0'),
              (' Contents of the Vagrant machine ',
               2,
               'vagrant:contents',
               'vagrant:contents'),
              (' Installing the necessary software for using Vagrant ',
               2,
               'vagrant:install',
               'vagrant:install'),
              (' VirtualBox ', 3, None, '___sec3'),
              (' Vagrant ', 3, None, '___sec4'),
              (' Cygwin (only on Windows) ', 3, None, '___sec5'),
              (' Creating the Vagrant machine ', 1, None, '___sec6'),
              (' Choice of operating system type ', 2, None, '___sec7'),
              (' Downloading a base box to create a complete Vagrant machine ',
               2,
               None,
               '___sec8'),
              (' Making an empty Vagrant machine ', 2, None, '___sec9'),
              (' Installing packages in a complete Vagrant machine ',
               2,
               'vagrant:complete:install',
               'vagrant:complete:install'),
              (' Creating files ', 3, None, '___sec11'),
              (' Installing files and packages ', 3, None, '___sec12'),
              (' Enabling X11 graphics ', 3, None, '___sec13'),
              (' Packaging a new box ', 3, None, '___sec14'),
              (' Installing packages in an empty Vagrant machine ',
               2,
               'vagrant:empty:install',
               'vagrant:empty:install'),
              (' Scripts for installing ready-made packages ',
               2,
               'vagrant:debpkg',
               'vagrant:debpkg'),
              (' Setting up a default environment with `.bashrc` ',
               2,
               'vagrant:bashrc',
               'vagrant:bashrc'),
              (' Operating the Vagrant machine ', 1, None, '___sec18'),
              (' Operating a complete Vagrant machine ', 2, None, '___sec19'),
              (' Operating an empty Vagrant machine ', 2, None, '___sec20'),
              (' Working with an initialized Vagrant machine ',
               2,
               None,
               '___sec21'),
              (' Shared directories ',
               2,
               'vagrant:shareddir',
               'vagrant:shareddir'),
              (' Troubleshooting ', 2, None, '___sec23'),
              (' Troubleshooting: shared directory is invisible ',
               3,
               None,
               '___sec24'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               3,
               None,
               '___sec25'),
              (' Troubleshooting: Internet is not reachable ',
               3,
               None,
               '___sec26'),
              (' Stopping the Vagrant machine ', 2, None, '___sec27'),
              (' Placing the Vagrant machine in the cloud ',
               2,
               None,
               '___sec28'),
              (' Using VMWare Fusion ', 2, None, '___sec29'),
              (' Documentation of Vagrant ', 2, None, '___sec30'),
              (' Appendix: Condensed instructions for students ',
               1,
               None,
               '___sec31'),
              (' Troubleshooting: shared directory is invisible ',
               2,
               None,
               '___sec32'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               2,
               None,
               '___sec33'),
              (' Troubleshooting: Internet is not reachable ',
               2,
               None,
               '___sec34')]}
end of tocinfo -->





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- Fix slow MathJax rendering in IE8 -->
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">




<a name="part0009"></a>
<!-- !split -->

<h2>Troubleshooting  <a name="___sec23"></a></h2>

<h3>Troubleshooting: shared directory is invisible  <a name="___sec24"></a></h3>

It may happen that the <code>/vagrant</code> directory seems empty inside
the Vagrant machine. Two steps will fix this problem. First,
run

<p>

<!-- code=text (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Machine&gt; sudo /etc/init.d/vboxadd setup
</pre></div>
<p>
inside the Vagrant machine. Second, log out and run

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; sudo vagrant reload
</pre></div>
<p>
outside the Vagrant machine.
Then do <code>vagrant ssh</code> and take an <code>ls /vagrant</code> to see that the
files in the project directory (e.g., <code>Vagrantfile</code> and the Vagrant
box) are visible.

<h3>Troubleshooting: "couldn't connect to display ..."  <a name="___sec25"></a></h3>

This error message points to the problem that X11 graphics on the
Vagrant machine cannot be shown on the host's screen.
Inserting the line <code>config.ssh.forward_x11 = true</code>
in the file <code>Vagrantfile</code> in the project directory and starting X11
on the host are the two steps that will fix the problem.
Unless you build a Vagrant box, the editing of <code>Vagrantfile</code> should
not be required as a ready-made box was packaged with
X11 forwarding (cf. the <code>vagrant package</code> command
in the section <a href="._vagrant_box004.html#vagrant:complete:install">Installing packages in a complete Vagrant machine</a>).
To start X11 on Mac,
run Applications - Utilities - X11, while on Windows, go to
Start - All Programs - Cygwin-X - XWin Server. Log out of the
Vagrant machine (Ctrl-D) and in again (<code>vagrant ssh</code>).

<h3>Troubleshooting: Internet is not reachable  <a name="___sec26"></a></h3>

A test if Internet is reachable is to run a <code>ping</code> command inside
the machine, e.g.,

<p>

<!-- code=text (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Machine&gt; ping us.ubuntu.archive.com
</pre></div>
<p>
A hanging command indicates that Internet is not reachable.
Log out of the box, run <code>vagrant reload</code>, and
<code>vagrant ssh</code>. Try the <code>ping</code> command again.

<h2>Stopping the Vagrant machine  <a name="___sec27"></a></h2>

There are three ways to stop the virtual Vagrant machine from the
host (i.e., you must be logged out by Ctrl-D from the machine):

<ul>
 <li> <code>vagrant suspend</code> sends the machine to sleep mode. Waking it up is
   done with <code>vagrant up</code>.</li>
 <li> <code>vagrant halt</code> shuts off the machine. To start it again, a full
   boot with <code>vagrant up</code> is needed.</li>
 <li> The machine can be removed forever by <code>vagrant destroy</code>.</li>
</ul>

<h2>Placing the Vagrant machine in the cloud  <a name="___sec28"></a></h2>

There are numerous free file hosting sites where a Vagrant machine can
be stored and shared with others.  We have found Google Drive to be a
viable solution. It is free, can handle large enough files, and has
flexible functionality for sharing the machine with others. A
potential problem with Google Drive, Sky Drive, or Dropbox is that
other computers connected to the account start to download the big
Vagrant machines. To prevent such actions, click on the Google Drive
icon on all machines that synchronize the account and deselect the
directory where you store the Vagrant machine(s).

<h2>Using VMWare Fusion  <a name="___sec29"></a></h2>

Not written yet.

<h2>Documentation of Vagrant  <a name="___sec30"></a></h2>

<ul>
 <li> <a href="http://docs.vagrantup.com/v2/" target="_self">The official Vagrant documentation</a>
   targets web developers, but contains more details than the tutorial above.</li>
 <li> <a href="http://www.linuxjournal.com/content/introducing-vagrant" target="_self">An article in The Linux Journal</a> is
   technically slightly outdated, but gives much valuable additional
   information.</li>
</ul>

<h1>Appendix: Condensed instructions for students  <a name="___sec31"></a></h1>

Say you want distribute a complete Vagrant machine with the URL

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">http://some.where.net/path/to/course.box
</pre></div>
<p>
Here is the need-know-information for users:

<p>
<!-- #install "vagrant_install.do.txt" -->

<h2>Troubleshooting: shared directory is invisible  <a name="___sec32"></a></h2>

It may happen that the <code>/vagrant</code> directory seems empty inside
the Vagrant machine. Two steps will fix this problem. First,
run

<p>

<!-- code=text (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Machine&gt; sudo /etc/init.d/vboxadd setup
</pre></div>
<p>
inside the Vagrant machine. Second, log out and run

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; sudo vagrant reload
</pre></div>
<p>
outside the Vagrant machine.
Then do <code>vagrant ssh</code> and take an <code>ls /vagrant</code> to see that the
files in the project directory (e.g., <code>Vagrantfile</code> and the Vagrant
box) are visible.

<h2>Troubleshooting: "couldn't connect to display ..."  <a name="___sec33"></a></h2>

This error message points to the problem that X11 graphics cannot
be shown on the host. It should be sufficient to start X11 on
the host, see Step 4 above.

<h2>Troubleshooting: Internet is not reachable  <a name="___sec34"></a></h2>

A test if Internet is reachable is to run a <code>ping</code> command inside
the machine, e.g.,

<p>

<!-- code=text (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Machine&gt; ping us.ubuntu.archive.com
</pre></div>
<p>
A hanging command indicates that Internet is not reachable.
Log out of the box, run <code>vagrant reload</code>, and
<code>vagrant ssh</code>. Try the <code>ping</code> command again.

<p>
<!-- ------------------- end of main content --------------- -->


<!--
Preliminary examples/discussion on vagrant style syntax

<div class='alert alert-block alert-notice'>
  <h3>What about PHP? Python? Java?</h3>

bla-bla.
</div>

<p>
While the <div class="deep-blue">rest of the</div> getting started
-->

<ul class="pager">
  <li class="previous">
    <a href="._vagrant_box008.html">&larr; Prev</a>
  </li>


</ul>

 </div>

 <div class="row Footer">
  <div class="span12">
  Copyright &copy 2013; Anders E. Johansen and Hans Petter Langtangen
  </div>
 </div>
</div>
</body>
</html>



