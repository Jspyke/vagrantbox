<html>
<head>
<!--
This style is adopted from the (now old) vagrant 1.0 web
pages. The style builds on the Twitter Bootstrap style.
Modifications by Hans Petter Langtangen, hpl@simula.no.

This style file should be copied and the following
elements edited:

Logo heading:

 LogoWord
 withSubWord

Navigation links at the top:

 GO TO 1
 GO TO 2

Footer at the end:

 Here goes a footer, if desired, maybe with a Copyright &copy;

-->

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="css/twitter_bootstrap.css">
<link rel="stylesheet" href="css/vagrant.css">
<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title> Troubleshooting: Internet is not reachable </title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Vagrant<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
   <!-- Navigation at the top of the page -->
    <ul>
     <li> <a href="http://docs.vagrantup.com/v2/">Vagrant docs</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>


<!-- Here goes the table of contents in the sidebar
     <li class="active"> means dark blue background for current section
-->
<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
     <!-- Syntax:
     <li> <a href="...">Section 1</a></li>
     <li class="active"> <a href="...">Section 2</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2a</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2b</a></li>
     -->
     <!-- Doconce automatically fills in the table of contents -->
          <!-- vagrant nav toc: " Problem setting " --> <li>  <a href="._part0001_vagrant_box.html#___sec0"> Problem setting </a>
     <!-- vagrant nav toc: " Contents of the Vagrant machine " --> <li> &nbsp;  <a href="._part0001_vagrant_box.html#vagrant:contents"> Contents of the Vagrant machine </a>
     <!-- vagrant nav toc: " Installing the necessary software for using Vagrant " --> <li> &nbsp;  <a href="._part0002_vagrant_box.html#vagrant:install"> Installing the necessary software for using Vagrant </a>
     <!-- vagrant nav toc: " Creating the Vagrant machine " --> <li>  <a href="._part0003_vagrant_box.html#___sec3"> Creating the Vagrant machine </a>
     <!-- vagrant nav toc: " Choice of operating system type " --> <li> &nbsp;  <a href="._part0003_vagrant_box.html#___sec4"> Choice of operating system type </a>
     <!-- vagrant nav toc: " Downloading a base box to create a complete Vagrant machine " --> <li> &nbsp;  <a href="._part0003_vagrant_box.html#___sec5"> Downloading a base box to create a complete Vagrant machine </a>
     <!-- vagrant nav toc: " Making an empty Vagrant machine " --> <li> &nbsp;  <a href="._part0003_vagrant_box.html#___sec6"> Making an empty Vagrant machine </a>
     <!-- vagrant nav toc: " Installing packages in a complete Vagrant machine " --> <li> &nbsp;  <a href="._part0004_vagrant_box.html#vagrant:complete:install"> Installing packages in a complete Vagrant machine </a>
     <!-- vagrant nav toc: " Creating files " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec8"> Creating files </a>
     <!-- vagrant nav toc: " Installing files and packages " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec9"> Installing files and packages </a>
     <!-- vagrant nav toc: " Enabling X11 graphics " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec10"> Enabling X11 graphics </a>
     <!-- vagrant nav toc: " Packaging a new box " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec11"> Packaging a new box </a>
     <!-- vagrant nav toc: " Installing packages in an empty Vagrant machine " --> <li> &nbsp;  <a href="._part0005_vagrant_box.html#vagrant:empty:install"> Installing packages in an empty Vagrant machine </a>
     <!-- vagrant nav toc: " Scripts for installing ready-made packages " --> <li> &nbsp;  <a href="._part0006_vagrant_box.html#vagrant:debpkg"> Scripts for installing ready-made packages </a>
     <!-- vagrant nav toc: " Setting up a default environment with <code>.bashrc</code> " --> <li> &nbsp;  <a href="._part0007_vagrant_box.html#vagrant:bashrc"> Setting up a default environment with <code>.bashrc</code> </a>
     <!-- vagrant nav toc: " Operating the Vagrant machine " --> <li class="active">  <a href="._part0008_vagrant_box.html#___sec15"> Operating the Vagrant machine </a>
     <!-- vagrant nav toc: " Operating a complete Vagrant machine " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#___sec16"> Operating a complete Vagrant machine </a>
     <!-- vagrant nav toc: " Operating an empty Vagrant machine " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#___sec17"> Operating an empty Vagrant machine </a>
     <!-- vagrant nav toc: " Working with an initialized Vagrant machine " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#___sec18"> Working with an initialized Vagrant machine </a>
     <!-- vagrant nav toc: " Shared directories " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#vagrant:shareddir"> Shared directories </a>
     <!-- vagrant nav toc: " Troubleshooting " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec20"> Troubleshooting </a>
     <!-- vagrant nav toc: " Troubleshooting: shared directory is invisible " --> <li> &nbsp; &nbsp;  <a href="._part0009_vagrant_box.html#___sec21"> Troubleshooting: shared directory is invisible </a>
     <!-- vagrant nav toc: " Troubleshooting: "couldn't connect to display ..." " --> <li> &nbsp; &nbsp;  <a href="._part0009_vagrant_box.html#___sec22"> Troubleshooting: "couldn't connect to display ..." </a>
     <!-- vagrant nav toc: " Troubleshooting: Internet is not reachable " --> <li> &nbsp; &nbsp;  <a href="._part0009_vagrant_box.html#___sec23"> Troubleshooting: Internet is not reachable </a>
     <!-- vagrant nav toc: " Stopping the Vagrant machine " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec24"> Stopping the Vagrant machine </a>
     <!-- vagrant nav toc: " Placing the Vagrant machine in the cloud " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec25"> Placing the Vagrant machine in the cloud </a>
     <!-- vagrant nav toc: " Using VMWare Fusion " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec26"> Using VMWare Fusion </a>
     <!-- vagrant nav toc: " Documentation of Vagrant " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec27"> Documentation of Vagrant </a>
     <!-- vagrant nav toc: " Appendix: Condensed instructions for students " --> <li>  <a href="._part0009_vagrant_box.html#___sec28"> Appendix: Condensed instructions for students </a>
     <!-- vagrant nav toc: " Troubleshooting: shared directory is invisible " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec29"> Troubleshooting: shared directory is invisible </a>
     <!-- vagrant nav toc: " Troubleshooting: "couldn't connect to display ..." " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec30"> Troubleshooting: "couldn't connect to display ..." </a>
     <!-- vagrant nav toc: " Troubleshooting: Internet is not reachable " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec31"> Troubleshooting: Internet is not reachable </a>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 1,
 'sections': [(' Problem setting ', 1, None, '___sec0'),
              (' Contents of the Vagrant machine ',
               2,
               'vagrant:contents',
               'vagrant:contents'),
              (' Installing the necessary software for using Vagrant ',
               2,
               'vagrant:install',
               'vagrant:install'),
              (' Creating the Vagrant machine ', 1, None, '___sec3'),
              (' Choice of operating system type ', 2, None, '___sec4'),
              (' Downloading a base box to create a complete Vagrant machine ',
               2,
               None,
               '___sec5'),
              (' Making an empty Vagrant machine ', 2, None, '___sec6'),
              (' Installing packages in a complete Vagrant machine ',
               2,
               'vagrant:complete:install',
               'vagrant:complete:install'),
              (' Creating files ', 3, None, '___sec8'),
              (' Installing files and packages ', 3, None, '___sec9'),
              (' Enabling X11 graphics ', 3, None, '___sec10'),
              (' Packaging a new box ', 3, None, '___sec11'),
              (' Installing packages in an empty Vagrant machine ',
               2,
               'vagrant:empty:install',
               'vagrant:empty:install'),
              (' Scripts for installing ready-made packages ',
               2,
               'vagrant:debpkg',
               'vagrant:debpkg'),
              (' Setting up a default environment with `.bashrc` ',
               2,
               'vagrant:bashrc',
               'vagrant:bashrc'),
              (' Operating the Vagrant machine ', 1, None, '___sec15'),
              (' Operating a complete Vagrant machine ', 2, None, '___sec16'),
              (' Operating an empty Vagrant machine ', 2, None, '___sec17'),
              (' Working with an initialized Vagrant machine ',
               2,
               None,
               '___sec18'),
              (' Shared directories ',
               2,
               'vagrant:shareddir',
               'vagrant:shareddir'),
              (' Troubleshooting ', 2, None, '___sec20'),
              (' Troubleshooting: shared directory is invisible ',
               3,
               None,
               '___sec21'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               3,
               None,
               '___sec22'),
              (' Troubleshooting: Internet is not reachable ',
               3,
               None,
               '___sec23'),
              (' Stopping the Vagrant machine ', 2, None, '___sec24'),
              (' Placing the Vagrant machine in the cloud ',
               2,
               None,
               '___sec25'),
              (' Using VMWare Fusion ', 2, None, '___sec26'),
              (' Documentation of Vagrant ', 2, None, '___sec27'),
              (' Appendix: Condensed instructions for students ',
               1,
               None,
               '___sec28'),
              (' Troubleshooting: shared directory is invisible ',
               2,
               None,
               '___sec29'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               2,
               None,
               '___sec30'),
              (' Troubleshooting: Internet is not reachable ',
               2,
               None,
               '___sec31')]}
end of tocinfo -->





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "AMS"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- Fix slow MathJax rendering in IE8 -->
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">




<a name="part0008"></a>
<!-- !split -->

<h2>Operating the Vagrant machine  <a name="___sec15"></a></h2>

<p>
For a user, the initialization of a new machine depends on
whether it is a complete Vagrant machine or an empty Vagrant machine.

<p>
<div class="alert alert-block alert-warning alert-text-normal"><b>Important.</b>
On a Windows computer,
always operate the Vagrant machine from Cygwin's terminal, which has
both an ssh-client and an X-server. The terminal can
be started from Start - All Programs - Cygwin-X - XWin Server.
</div>
<h3>Operating a complete Vagrant machine  <a name="___sec16"></a></h3>

<p>
The Vagrant machine <code>course.box</code>, created
as described in the section <a href="._part0004_vagrant_box.html#vagrant:complete:install">Installing packages in a complete Vagrant machine</a>, can now be
distributed to users.
A user must do the following steps.

<p>
<b>Step 1.</b>
Install VirtualBox and Vagrant as described in
the section <a href="._part0002_vagrant_box.html#vagrant:install">Installing the necessary software for using Vagrant</a>.

<p>
<b>Step 2.</b>
Create a directory <code>vagrant</code> and move <code>course.box</code>
to this directory. We also recommend to make a subdirectory
<code>projects</code> where all files and directories to be used from
the Vagrant machine reside. You edit files in the <code>vagrant/projects</code>
directory tree on the host.

<p>
<b>Step 3.</b>
Run the these commands from the <code>vagrant</code> directory:

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant box add course course.box
Terminal&gt; vagrant init course
</pre></div>
<p>
<b>Step 4.</b>
Start X11 on the host: run Applications - Utilities - X11 on a Mac,
or Start - All Programs - Cygwin-X - XWin Server on Windows.

<p>
<b>Step 5.</b>
Start (boot) the Vagrant machine:

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant up
</pre></div>
<p>
<b>Step 5.</b>
Log in on the machine:

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant ssh
</pre></div>
<p>
Log out with Ctrl-D as usual in Unix terminal windows.

<h3>Operating an empty Vagrant machine  <a name="___sec17"></a></h3>

<p>
The user has the files <code>Vagrantfile</code> and some installation script,
say <code>install_minimal.sh</code> as described in the section <a href="._part0005_vagrant_box.html#vagrant:empty:install">Installing packages in an empty Vagrant machine</a>.
The user should make some directory <code>vagrant</code>, copy <code>Vagrantfile</code>
and <code>install_minimal.sh</code> to this directory, and from this directory
run

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant up
Terminal&gt; vagrant ssh
</pre></div>
<p>
The first command takes a long time to execute since it runs the
installation script. Log out with Ctrl-D.

<h3>Working with an initialized Vagrant machine  <a name="___sec18"></a></h3>

<p>
The daily work with the Vagrant machine is very easy. Simply go to the <code>vagrant</code>
directory where the machine resides and run

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant up
Terminal&gt; vagrant ssh
</pre></div>
<p>
You are now inside the machine and can reach
files on the host from
<code>/vagrant/projects</code> (see the next section for more details).
Log out with Ctrl-D and in again with <code>vagrant ssh</code>.
Create and edit files on the host in <code>~/vagrant/projects</code> and its
subdirectories.

<p>
Before closing a laptop or shutting it down, it is recommended
to log out of the Vagrant machine and run <code>vagrant suspend</code>.

<h3>Shared directories <a name="vagrant:shareddir"></a></h3>

<p>
Inside the Vagrant machine, <code>/vagrant</code> is a directory shared with the
user's file system. More precisely, <code>/vagrant</code> points to the <em>project
directory</em> where the file <code>Vagrantfile</code> resides and where the <code>vagrant
up</code> command was run (<code>~/vagrant</code> if you have followed the specific
directory naming suggested in this document).
If users of the Vagrant machine keeps all their
files relevant for the machine in the project directory and its
subdirectories, all these directories will be shared between the machine and
the user's file system. Normally, this feature is enough for efficient
communication of files between the Vagrant machine's file system and
the user's file system.  One can also set up other shared directories, see
the Vagrant documentation for <a href="http://docs.vagrantup.com/v2/synced-directories/basic_usage.html">Synced Directories</a>.

<p>
Since the Vagrant machine shares directories with the host system, users
can safely edit files in the shared directories with their favorite editor
on the host system. The Vagrant machine will have immediate access to
the files.

<p>
Here is a typical example. Assume that <code>vagrant up</code> and <code>vagrant ssh</code>
were run in a directory <code>myubuntu</code>. On the host,
create a subdirectory <code>src</code> of <code>myubuntu</code>. Start an editor and type in
the following Python program in a file <code>test1.py</code>:

<p>

<!-- code=python (from !bc pypro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">numpy</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">np</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.pyplot</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">plt</span>
x <span style="color: #666666">=</span> np<span style="color: #666666">.</span>linspace(<span style="color: #666666">0</span>, <span style="color: #666666">3</span>, <span style="color: #666666">11</span>)
y <span style="color: #666666">=</span> np<span style="color: #666666">.</span>exp(<span style="color: #666666">-</span>x)
plt<span style="color: #666666">.</span>plot(x, y)
plt<span style="color: #666666">.</span>show()
</pre></div>
<p>
This program will show X11 graphics on your host machine. If this machine
runs the Linux operating system, everything is fine, but if this is a Mac
or Windows machine, X11 must be started as described in
the section ref{vagrant:X11}. If that is necessary, log out, start X11,
log in again (<code>vagrant ssh</code>).

<p>
Run the <code>test1.py</code> program:

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; <span style="color: #008000">cd</span> /vagrant
Terminal&gt; <span style="color: #008000">cd </span>src
Terminal&gt; python test1.py
</pre></div>
<p>
A plot of the curve \( y = e^{-x} \) should now be seen on the screen.

<p>
<p>
<!-- ------------------- end of main content --------------- -->


<!--
Preliminary examples/discussion on vagrant style syntax

<div class='alert alert-block alert-notice'>
  <h3>What about PHP? Python? Java?</h3>
<p>
bla-bla.
</div>

<p>
While the <div class="deep-blue">rest of the</div> getting started
-->

<ul class="pager">
  <li class="previous">
    <a href="._part0007_vagrant_box.html">&larr; Prev</a>
  </li>

  <li class="next">
    <a href="._part0009_vagrant_box.html">Next &rarr;</a>
  </li>

</ul>

 </div>

 <div class="row Footer">
  <div class="span12">
  Copyright &copy 2013; Anders E. Johansen and Hans Petter Langtangen
  </div>
 </div>
</div>
</body>
</html>



