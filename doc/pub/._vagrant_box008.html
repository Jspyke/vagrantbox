<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/twitter_bootstrap.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/vagrant.css">

<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title>Problem setting</title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Vagrant<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
   <!-- Navigation at the top of the page -->
    <ul>
     <li> <a href="http://docs.vagrantup.com/v2/">Vagrant docs</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>


<!-- Here goes the table of contents in the sidebar -->
<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
          <!-- navigation toc: "Problem setting" --> <li><a href="._vagrant_box001.html#___sec0" style="font-size: 80%;"><b>Problem setting</b></a></li>
     <!-- navigation toc: "Contents of the Vagrant machine" --> <li><a href="._vagrant_box001.html#vagrant:contents" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Contents of the Vagrant machine</a></li>
     <!-- navigation toc: "Installing the necessary software for using Vagrant" --> <li><a href="._vagrant_box002.html#vagrant:install" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Installing the necessary software for using Vagrant</a></li>
     <!-- navigation toc: "Creating the Vagrant machine" --> <li><a href="._vagrant_box003.html#___sec6" style="font-size: 80%;"><b>Creating the Vagrant machine</b></a></li>
     <!-- navigation toc: "Choice of operating system type" --> <li><a href="._vagrant_box003.html#___sec7" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Choice of operating system type</a></li>
     <!-- navigation toc: "Downloading a base box to create a complete Vagrant machine" --> <li><a href="._vagrant_box003.html#___sec8" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Downloading a base box to create a complete Vagrant machine</a></li>
     <!-- navigation toc: "Making an empty Vagrant machine" --> <li><a href="._vagrant_box003.html#___sec9" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Making an empty Vagrant machine</a></li>
     <!-- navigation toc: "Installing packages in a complete Vagrant machine" --> <li><a href="._vagrant_box004.html#vagrant:complete:install" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Installing packages in a complete Vagrant machine</a></li>
     <!-- navigation toc: "Installing packages in an empty Vagrant machine" --> <li><a href="._vagrant_box005.html#vagrant:empty:install" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Installing packages in an empty Vagrant machine</a></li>
     <!-- navigation toc: "Scripts for installing ready-made packages" --> <li><a href="._vagrant_box006.html#vagrant:debpkg" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Scripts for installing ready-made packages</a></li>
     <!-- navigation toc: "Setting up a default environment with `.bashrc`" --> <li><a href="._vagrant_box007.html#vagrant:bashrc" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Setting up a default environment with `.bashrc`</a></li>
     <!-- navigation toc: "Operating the Vagrant machine" --> <li><a href=#___sec18" style="font-size: 80%;"><b>Operating the Vagrant machine</b></a></li>
     <!-- navigation toc: "Operating a complete Vagrant machine" --> <li><a href=#___sec19" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Operating a complete Vagrant machine</a></li>
     <!-- navigation toc: "Operating an empty Vagrant machine" --> <li><a href=#___sec20" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Operating an empty Vagrant machine</a></li>
     <!-- navigation toc: "Working with an initialized Vagrant machine" --> <li><a href=#___sec21" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Working with an initialized Vagrant machine</a></li>
     <!-- navigation toc: "Shared directories" --> <li><a href=#vagrant:shareddir" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Shared directories</a></li>
     <!-- navigation toc: "Troubleshooting" --> <li><a href="._vagrant_box009.html#vagrant:trouble" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting</a></li>
     <!-- navigation toc: "Stopping the Vagrant machine" --> <li><a href="._vagrant_box009.html#___sec27" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Stopping the Vagrant machine</a></li>
     <!-- navigation toc: "Placing the Vagrant machine in the cloud" --> <li><a href="._vagrant_box009.html#___sec28" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Placing the Vagrant machine in the cloud</a></li>
     <!-- navigation toc: "Using VMWare Fusion" --> <li><a href="._vagrant_box009.html#___sec29" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using VMWare Fusion</a></li>
     <!-- navigation toc: "Documentation of Vagrant" --> <li><a href="._vagrant_box009.html#___sec30" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Documentation of Vagrant</a></li>
     <!-- navigation toc: "Appendix: Condensed instructions for students" --> <li><a href="._vagrant_box009.html#___sec31" style="font-size: 80%;"><b>Appendix: Condensed instructions for students</b></a></li>
     <!-- navigation toc: "Troubleshooting: shared directory is invisible" --> <li><a href="._vagrant_box009.html#___sec32" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting: shared directory is invisible</a></li>
     <!-- navigation toc: "Troubleshooting: "couldn't connect to display ..."" --> <li><a href="._vagrant_box009.html#___sec33" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting: "couldn't connect to display ..."</a></li>
     <!-- navigation toc: "Troubleshooting: Internet is not reachable" --> <li><a href="._vagrant_box009.html#___sec34" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting: Internet is not reachable</a></li>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 1,
 'sections': [(' Problem setting ', 1, None, '___sec0'),
              (' Contents of the Vagrant machine ',
               2,
               'vagrant:contents',
               'vagrant:contents'),
              (' Installing the necessary software for using Vagrant ',
               2,
               'vagrant:install',
               'vagrant:install'),
              (' VirtualBox ', 3, None, '___sec3'),
              (' Vagrant ', 3, None, '___sec4'),
              (' Cygwin (only on Windows) ', 3, None, '___sec5'),
              (' Creating the Vagrant machine ', 1, None, '___sec6'),
              (' Choice of operating system type ', 2, None, '___sec7'),
              (' Downloading a base box to create a complete Vagrant machine ',
               2,
               None,
               '___sec8'),
              (' Making an empty Vagrant machine ', 2, None, '___sec9'),
              (' Installing packages in a complete Vagrant machine ',
               2,
               'vagrant:complete:install',
               'vagrant:complete:install'),
              (' Creating files ', 3, None, '___sec11'),
              (' Installing files and packages ', 3, None, '___sec12'),
              (' Enabling X11 graphics ', 3, None, '___sec13'),
              (' Packaging a new box ', 3, None, '___sec14'),
              (' Installing packages in an empty Vagrant machine ',
               2,
               'vagrant:empty:install',
               'vagrant:empty:install'),
              (' Scripts for installing ready-made packages ',
               2,
               'vagrant:debpkg',
               'vagrant:debpkg'),
              (' Setting up a default environment with `.bashrc` ',
               2,
               'vagrant:bashrc',
               'vagrant:bashrc'),
              (' Operating the Vagrant machine ', 1, None, '___sec18'),
              (' Operating a complete Vagrant machine ', 2, None, '___sec19'),
              (' Operating an empty Vagrant machine ', 2, None, '___sec20'),
              (' Working with an initialized Vagrant machine ',
               2,
               None,
               '___sec21'),
              (' Shared directories ',
               2,
               'vagrant:shareddir',
               'vagrant:shareddir'),
              (' Troubleshooting ', 2, 'vagrant:trouble', 'vagrant:trouble'),
              (' Troubleshooting: shared directory is invisible ',
               3,
               None,
               '___sec24'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               3,
               None,
               '___sec25'),
              (' Troubleshooting: Internet is not reachable ',
               3,
               None,
               '___sec26'),
              (' Stopping the Vagrant machine ', 2, None, '___sec27'),
              (' Placing the Vagrant machine in the cloud ',
               2,
               None,
               '___sec28'),
              (' Using VMWare Fusion ', 2, None, '___sec29'),
              (' Documentation of Vagrant ', 2, None, '___sec30'),
              (' Appendix: Condensed instructions for students ',
               1,
               None,
               '___sec31'),
              (' Troubleshooting: shared directory is invisible ',
               2,
               None,
               '___sec32'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               2,
               None,
               '___sec33'),
              (' Troubleshooting: Internet is not reachable ',
               2,
               None,
               '___sec34')]}
end of tocinfo -->





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<a name="part0008"></a>
<!-- begin top navigation -->
<a href="._vagrant_box007.html"><img src="http://hplgit.github.io/doconce/bundled/html_images/prev1.png" border=0 alt="&laquo; Previous"></a>

<a href="._vagrant_box009.html"><img src="http://hplgit.github.io/doconce/bundled/html_images/next1.png" border=0 alt="Next &raquo;"></a>
<!-- end top navigation -->

<p>
<!-- !split -->

<h1 id="___sec18">Operating the Vagrant machine <a name="___sec18"></a></h1>

For a user, the initialization of a new machine depends on
whether it is a complete Vagrant machine or an empty Vagrant machine.

<p>
<div class="alert alert-block alert-danger alert-text-normal"><b>Important.</b>
On a Windows computer,
always operate the Vagrant machine from Cygwin's terminal, which has
both an ssh-client and an X-server. The terminal can
be started from Start - All Programs - Cygwin-X - XWin Server.
</div>


<h2 id="___sec19">Operating a complete Vagrant machine <a name="___sec19"></a></h2>

The Vagrant machine <code>course.box</code>, created
as described in the section <a href="._vagrant_box004.html#vagrant:complete:install">Installing packages in a complete Vagrant machine</a>, can now be
distributed to users.
A user must do the following steps.

<p>
<b>Step 1.</b>
Install VirtualBox and Vagrant as described in
the section <a href="._vagrant_box002.html#vagrant:install">Installing the necessary software for using Vagrant</a>.

<p>
<b>Step 2.</b>
Create a directory <code>vagrant</code> and move <code>course.box</code>
to this directory. We also recommend to make a subdirectory
<code>projects</code> where all files and directories to be used from
the Vagrant machine reside. You edit files in the <code>vagrant/projects</code>
directory tree on the host.

<p>
<b>Step 3.</b>
Run the these commands from the <code>vagrant</code> directory:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant box add course course.box
Terminal&gt; vagrant init course
</pre></div>
<p>
<b>Step 4.</b>
Start X11 on the host: run Applications - Utilities - X11 on a Mac,
or Start - All Programs - Cygwin-X - XWin Server on Windows.

<p>
<b>Step 5.</b>
Start (boot) the Vagrant machine:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant up
</pre></div>
<p>
<b>Step 5.</b>
Log in on the machine:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant ssh
</pre></div>
<p>
Log out with Ctrl-D as usual in Unix terminal windows.

<h2 id="___sec20">Operating an empty Vagrant machine <a name="___sec20"></a></h2>

The user has the files <code>Vagrantfile</code> and some installation script,
say <code>install_minimal.sh</code> as described in the section <a href="._vagrant_box005.html#vagrant:empty:install">Installing packages in an empty Vagrant machine</a>.
The user should make some directory <code>vagrant</code>, copy <code>Vagrantfile</code>
and <code>install_minimal.sh</code> to this directory, and from this directory
run

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant up
Terminal&gt; vagrant ssh
</pre></div>
<p>
The first command takes a long time to execute since it runs the
installation script. Log out with Ctrl-D.

<h2 id="___sec21">Working with an initialized Vagrant machine <a name="___sec21"></a></h2>

The daily work with the Vagrant machine is very easy. Simply go to the <code>vagrant</code>
directory where the machine resides and run

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; vagrant up
Terminal&gt; vagrant ssh
</pre></div>
<p>
You are now inside the machine and can reach
files on the host from
<code>/vagrant/projects</code> (see the next section for more details).
Log out with Ctrl-D and in again with <code>vagrant ssh</code>.
Create and edit files on the host in <code>~/vagrant/projects</code> and its
subdirectories.

<p>
Before closing a laptop or shutting it down, it is recommended
to log out of the Vagrant machine and run <code>vagrant suspend</code>.

<h2 id="vagrant:shareddir">Shared directories<a name="vagrant:shareddir"></a></h2>

Inside the Vagrant machine, <code>/vagrant</code> is a directory shared with the
user's file system. More precisely, <code>/vagrant</code> points to the <em>project
directory</em> where the file <code>Vagrantfile</code> resides and where the <code>vagrant
up</code> command was run (<code>~/vagrant</code> if you have followed the specific
directory naming suggested in this document).
If users of the Vagrant machine keeps all their
files relevant for the machine in the project directory and its
subdirectories, all these directories will be shared between the machine and
the user's file system. Normally, this feature is enough for efficient
communication of files between the Vagrant machine's file system and
the user's file system.  One can also set up other shared directories, see
the Vagrant documentation for <a href="http://docs.vagrantup.com/v2/synced-directories/basic_usage.html" target="_self">Synced Directories</a>.

<p>
Since the Vagrant machine shares directories with the host system, users
can safely edit files in the shared directories with their favorite editor
on the host system. The Vagrant machine will have immediate access to
the files.

<p>
Here is a typical example. Assume that <code>vagrant up</code> and <code>vagrant ssh</code>
were run in a directory <code>myubuntu</code>. On the host,
create a subdirectory <code>src</code> of <code>myubuntu</code>. Start an editor and type in
the following Python program in a file <code>test1.py</code>:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">numpy</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">np</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.pyplot</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">plt</span>
x <span style="color: #666666">=</span> np<span style="color: #666666">.</span>linspace(<span style="color: #666666">0</span>, <span style="color: #666666">3</span>, <span style="color: #666666">11</span>)
y <span style="color: #666666">=</span> np<span style="color: #666666">.</span>exp(<span style="color: #666666">-</span>x)
plt<span style="color: #666666">.</span>plot(x, y)
plt<span style="color: #666666">.</span>show()
</pre></div>
<p>
This program will show X11 graphics on your host machine. If this machine
runs the Linux operating system, everything is fine, but if this is a Mac
or Windows machine, X11 must be started as described in Step 4 of
the installation instructions. If that is necessary, log out, start X11,
log in again (<code>vagrant ssh</code>).

<p>
Run the <code>test1.py</code> program:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; cd /vagrant
Terminal&gt; cd src
Terminal&gt; python test1.py
</pre></div>
<p>
A plot of the curve \( y = e^{-x} \) should now be seen on the screen.

<p>
<p>
<!-- begin bottom navigation -->
<a href="._vagrant_box007.html"><img src="http://hplgit.github.io/doconce/bundled/html_images/prev1.png" border=0 alt="&laquo; Previous"></a>

<a href="._vagrant_box009.html"><img src="http://hplgit.github.io/doconce/bundled/html_images/next1.png" border=0 alt="Next &raquo;"></a>
<!-- end bottom navigation -->

<!-- ------------------- end of main content --------------- -->


 </div>

 <div class="row Footer">
  <div class="span12">
  Copyright &copy 2013; Anders E. Johansen and Hans Petter Langtangen
  </div>
 </div>
</div>
</body>
</html>

