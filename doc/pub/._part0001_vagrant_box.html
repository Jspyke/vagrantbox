<html>
<head>
<!--
This style is adopted from the (now old) vagrant 1.0 web
pages. The style builds on the Twitter Bootstrap style.
Modifications by Hans Petter Langtangen, hpl@simula.no.

This style file should be copied and the following
elements edited:

Logo heading:

 LogoWord
 withSubWord

Navigation links at the top:

 GO TO 1
 GO TO 2

Footer at the end:

 Here goes a footer, if desired, maybe with a Copyright &copy;

-->

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="css/twitter_bootstrap.css">
<link rel="stylesheet" href="css/vagrant.css">
<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title> Troubleshooting: Internet is not reachable </title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Vagrant<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
   <!-- Navigation at the top of the page -->
    <ul>
     <li> <a href="http://docs.vagrantup.com/v2/">Vagrant docs</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>


<!-- Here goes the table of contents in the sidebar
     <li class="active"> means dark blue background for current section
-->
<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
     <!-- Syntax:
     <li> <a href="...">Section 1</a></li>
     <li class="active"> <a href="...">Section 2</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2a</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2b</a></li>
     -->
     <!-- Doconce automatically fills in the table of contents -->
          <!-- vagrant nav toc: " Problem setting " --> <li class="active">  <a href="._part0001_vagrant_box.html#___sec0"> Problem setting </a>
     <!-- vagrant nav toc: " Contents of the Vagrant machine " --> <li> &nbsp;  <a href="._part0001_vagrant_box.html#vagrant:contents"> Contents of the Vagrant machine </a>
     <!-- vagrant nav toc: " Installing the necessary software for using Vagrant " --> <li> &nbsp;  <a href="._part0002_vagrant_box.html#vagrant:install"> Installing the necessary software for using Vagrant </a>
     <!-- vagrant nav toc: " Creating the Vagrant machine " --> <li>  <a href="._part0003_vagrant_box.html#___sec3"> Creating the Vagrant machine </a>
     <!-- vagrant nav toc: " Choice of operating system type " --> <li> &nbsp;  <a href="._part0003_vagrant_box.html#___sec4"> Choice of operating system type </a>
     <!-- vagrant nav toc: " Downloading a base box to create a complete Vagrant machine " --> <li> &nbsp;  <a href="._part0003_vagrant_box.html#___sec5"> Downloading a base box to create a complete Vagrant machine </a>
     <!-- vagrant nav toc: " Making an empty Vagrant machine " --> <li> &nbsp;  <a href="._part0003_vagrant_box.html#___sec6"> Making an empty Vagrant machine </a>
     <!-- vagrant nav toc: " Installing packages in a complete Vagrant machine " --> <li> &nbsp;  <a href="._part0004_vagrant_box.html#vagrant:complete:install"> Installing packages in a complete Vagrant machine </a>
     <!-- vagrant nav toc: " Creating files " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec8"> Creating files </a>
     <!-- vagrant nav toc: " Installing files and packages " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec9"> Installing files and packages </a>
     <!-- vagrant nav toc: " Enabling X11 graphics " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec10"> Enabling X11 graphics </a>
     <!-- vagrant nav toc: " Packaging a new box " --> <li> &nbsp; &nbsp;  <a href="._part0004_vagrant_box.html#___sec11"> Packaging a new box </a>
     <!-- vagrant nav toc: " Installing packages in an empty Vagrant machine " --> <li> &nbsp;  <a href="._part0005_vagrant_box.html#vagrant:empty:install"> Installing packages in an empty Vagrant machine </a>
     <!-- vagrant nav toc: " Scripts for installing ready-made packages " --> <li> &nbsp;  <a href="._part0006_vagrant_box.html#vagrant:debpkg"> Scripts for installing ready-made packages </a>
     <!-- vagrant nav toc: " Setting up a default environment with <code>.bashrc</code> " --> <li> &nbsp;  <a href="._part0007_vagrant_box.html#vagrant:bashrc"> Setting up a default environment with <code>.bashrc</code> </a>
     <!-- vagrant nav toc: " Operating the Vagrant machine " --> <li>  <a href="._part0008_vagrant_box.html#___sec15"> Operating the Vagrant machine </a>
     <!-- vagrant nav toc: " Operating a complete Vagrant machine " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#___sec16"> Operating a complete Vagrant machine </a>
     <!-- vagrant nav toc: " Operating an empty Vagrant machine " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#___sec17"> Operating an empty Vagrant machine </a>
     <!-- vagrant nav toc: " Working with an initialized Vagrant machine " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#___sec18"> Working with an initialized Vagrant machine </a>
     <!-- vagrant nav toc: " Shared directories " --> <li> &nbsp;  <a href="._part0008_vagrant_box.html#vagrant:shareddir"> Shared directories </a>
     <!-- vagrant nav toc: " Troubleshooting " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec20"> Troubleshooting </a>
     <!-- vagrant nav toc: " Troubleshooting: shared directory is invisible " --> <li> &nbsp; &nbsp;  <a href="._part0009_vagrant_box.html#___sec21"> Troubleshooting: shared directory is invisible </a>
     <!-- vagrant nav toc: " Troubleshooting: "couldn't connect to display ..." " --> <li> &nbsp; &nbsp;  <a href="._part0009_vagrant_box.html#___sec22"> Troubleshooting: "couldn't connect to display ..." </a>
     <!-- vagrant nav toc: " Troubleshooting: Internet is not reachable " --> <li> &nbsp; &nbsp;  <a href="._part0009_vagrant_box.html#___sec23"> Troubleshooting: Internet is not reachable </a>
     <!-- vagrant nav toc: " Stopping the Vagrant machine " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec24"> Stopping the Vagrant machine </a>
     <!-- vagrant nav toc: " Placing the Vagrant machine in the cloud " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec25"> Placing the Vagrant machine in the cloud </a>
     <!-- vagrant nav toc: " Using VMWare Fusion " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec26"> Using VMWare Fusion </a>
     <!-- vagrant nav toc: " Documentation of Vagrant " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec27"> Documentation of Vagrant </a>
     <!-- vagrant nav toc: " Appendix: Condensed instructions for students " --> <li>  <a href="._part0009_vagrant_box.html#___sec28"> Appendix: Condensed instructions for students </a>
     <!-- vagrant nav toc: " Troubleshooting: shared directory is invisible " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec29"> Troubleshooting: shared directory is invisible </a>
     <!-- vagrant nav toc: " Troubleshooting: "couldn't connect to display ..." " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec30"> Troubleshooting: "couldn't connect to display ..." </a>
     <!-- vagrant nav toc: " Troubleshooting: Internet is not reachable " --> <li> &nbsp;  <a href="._part0009_vagrant_box.html#___sec31"> Troubleshooting: Internet is not reachable </a>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 1,
 'sections': [(' Problem setting ', 1, None, '___sec0'),
              (' Contents of the Vagrant machine ',
               2,
               'vagrant:contents',
               'vagrant:contents'),
              (' Installing the necessary software for using Vagrant ',
               2,
               'vagrant:install',
               'vagrant:install'),
              (' Creating the Vagrant machine ', 1, None, '___sec3'),
              (' Choice of operating system type ', 2, None, '___sec4'),
              (' Downloading a base box to create a complete Vagrant machine ',
               2,
               None,
               '___sec5'),
              (' Making an empty Vagrant machine ', 2, None, '___sec6'),
              (' Installing packages in a complete Vagrant machine ',
               2,
               'vagrant:complete:install',
               'vagrant:complete:install'),
              (' Creating files ', 3, None, '___sec8'),
              (' Installing files and packages ', 3, None, '___sec9'),
              (' Enabling X11 graphics ', 3, None, '___sec10'),
              (' Packaging a new box ', 3, None, '___sec11'),
              (' Installing packages in an empty Vagrant machine ',
               2,
               'vagrant:empty:install',
               'vagrant:empty:install'),
              (' Scripts for installing ready-made packages ',
               2,
               'vagrant:debpkg',
               'vagrant:debpkg'),
              (' Setting up a default environment with `.bashrc` ',
               2,
               'vagrant:bashrc',
               'vagrant:bashrc'),
              (' Operating the Vagrant machine ', 1, None, '___sec15'),
              (' Operating a complete Vagrant machine ', 2, None, '___sec16'),
              (' Operating an empty Vagrant machine ', 2, None, '___sec17'),
              (' Working with an initialized Vagrant machine ',
               2,
               None,
               '___sec18'),
              (' Shared directories ',
               2,
               'vagrant:shareddir',
               'vagrant:shareddir'),
              (' Troubleshooting ', 2, None, '___sec20'),
              (' Troubleshooting: shared directory is invisible ',
               3,
               None,
               '___sec21'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               3,
               None,
               '___sec22'),
              (' Troubleshooting: Internet is not reachable ',
               3,
               None,
               '___sec23'),
              (' Stopping the Vagrant machine ', 2, None, '___sec24'),
              (' Placing the Vagrant machine in the cloud ',
               2,
               None,
               '___sec25'),
              (' Using VMWare Fusion ', 2, None, '___sec26'),
              (' Documentation of Vagrant ', 2, None, '___sec27'),
              (' Appendix: Condensed instructions for students ',
               1,
               None,
               '___sec28'),
              (' Troubleshooting: shared directory is invisible ',
               2,
               None,
               '___sec29'),
              (' Troubleshooting: "couldn\'t connect to display ..." ',
               2,
               None,
               '___sec30'),
              (' Troubleshooting: Internet is not reachable ',
               2,
               None,
               '___sec31')]}
end of tocinfo -->





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "AMS"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- Fix slow MathJax rendering in IE8 -->
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">




<a name="part0001"></a>
<!-- !split -->

<h2>Problem setting  <a name="___sec0"></a></h2>

<p>
We shall work with a specific example: creating a computing
environment for a participants in a course on scientific computing.
The challenge is to minimize the amount of time the audience spends on
installation issues as well as minimize the teacher's hassle with all
types of operating systems that might be present in the audience. An
attractive solution to this minimization problem is to create a
Vagrant machine, which is simply a file with a virtual ready-made
computer that anyone in the audience can easily download and use on
any Windows or Mac machine.  Another advantage is that all users of a
Vagrant machine have exactly the same computing environment (unless
they modify the machine).  The teacher can then easily debug a user
problem inside the teacher's own Vagrant machine. Different types of
machines can be made for different types of courses or purposes.
For example, a research project can set up a software environment
for its project members, as a Vagrant machine, to ensure that
the environment is conserved for the future, which is a key principle
for reproducible science.

<h3>Contents of the Vagrant machine <a name="vagrant:contents"></a></h3>

<p>
The Vagrant machine needs to have an operating system. Here we choose
Ubuntu of two main reasons:

<p>

<ol>
<li> software on Ubuntu can be trivially installed as
   Debian packages</li>
<li> the Debian software repository is at the time of this writing the richest
   repository for pre-built mathematical software.</li>
</ol>

We remark that the user of the machine will mainly work with files
and directories in the host system and only use the Ubuntu system
to run computations.

<p>
To be specific, the sample computing environment to be illustrated here
consists of a Python-based ecosystem for scientific computing.
Examples on basic software includes

<p>

<ul>
 <li> Text editors: <code>emacs</code>, <code>vim</code>, <code>gedit</code></li>
 <li> Compilers: <code>gcc</code>, <code>g++</code>, <code>gfortran</code></li>
 <li> Numerical libraries: ATLAS</li>
 <li> Python packages: <code>numpy</code>, <code>scipy</code>, <code>sympy</code>, <code>matplotlib</code>,
   <code>ScientificPython</code></li>
</ul>

Most of these packages are in Debian and trivially installed by a
<code>sudo apt-get install packagename</code> command, but the Python packages
are more conveniently installed in their latest version by a <code>pip
install packagename</code> command. A few Python packages must be installed
directly from the source code, via the <code>sudo python setup.py install</code>
command, if they do not exist in Debian, or if they are not supported
by <code>pip install</code>, or if one needs to download the latest development
version. The example will in detail illustrate these cases.

<p>
More sophisticated packages like <a href="http://www.mcs.anl.gov/petsc/">PETSc</a>
and <a href="http://fenicsproject.org">FEniCS</a>, which are challenging to
build from scratch, can trivially be added as these packages are
available in Debian.

<p>
In the Vagrant machine, we create two directories:

<p>

<ul>
 <li> <code>~/bin</code> for executable programs and scripts</li>
 <li> <code>~/srclib</code> for Python packages installed from source code</li>
</ul>

We also include two useful files:

<p>

<ul>
 <li> A small, but illustrative <a href="https://github.com/hplgit/vagrantbox/tree/master/doc/src/vagrant/src-vagrant/.bashrc"><tt>~/.bashrc</tt></a> file for
   setting up the Linux system.</li>
 <li> <a href="https://github.com/hplgit/vagrantbox/tree/master/doc/src/vagrant/src-vagrant/.rsyncexclude"><tt>~/.rsyncexclude</tt></a> for excluding certain
   files when running <code>rsync</code> for copying files between machines, or
   between machines and external disks or memory sticks.</li>
</ul>

<p>
<!-- ------------------- end of main content --------------- -->


<!--
Preliminary examples/discussion on vagrant style syntax

<div class='alert alert-block alert-notice'>
  <h3>What about PHP? Python? Java?</h3>
<p>
bla-bla.
</div>

<p>
While the <div class="deep-blue">rest of the</div> getting started
-->

<ul class="pager">
  <li class="previous">
    <a href="._part0000_vagrant_box.html">&larr; Prev</a>
  </li>

  <li class="next">
    <a href="._part0002_vagrant_box.html">Next &rarr;</a>
  </li>

</ul>

 </div>

 <div class="row Footer">
  <div class="span12">
  Copyright &copy 2013; Anders E. Johansen and Hans Petter Langtangen
  </div>
 </div>
</div>
</body>
</html>



