<html>
<head>
<!--
This style is adopted from the (now old) vagrant 1.0 web
pages. The style builds on the Twitter Bootstrap style.
Modifications by Hans Petter Langtangen, hpl@simula.no.

This style file should be copied and the following
elements edited:

Logo heading:

 LogoWord
 withSubWord

Navigation links at the top:

 GO TO 1
 GO TO 2

Footer at the end:

 Here goes a footer, if desired, maybe with a Copyright &copy;

-->

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="css/twitter_bootstrap.css">
<link rel="stylesheet" href="css/vagrant.css">
<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title> Installing a scientific computing environment </title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Virtualenv<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
   <!-- Navigation at the top of the page -->
    <ul>
     <li> <a href="http://www.pip-installer.org/en/latest/">Virtualenv docs</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>


<!-- Here goes the table of contents in the sidebar
     <li class="active"> means dark blue background for current section
-->
<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
     <!-- Syntax:
     <li> <a href="...">Section 1</a></li>
     <li class="active"> <a href="...">Section 2</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2a</a></li>
     <li> &nbsp;&nbsp;&nbsp; <a href="...">Section 2b</a></li>
     -->
     <!-- Doconce automatically fills in the table of contents -->
          <!-- vagrant nav toc: " Motivation " --> <li>  <a href="._virtualenv000.html#___sec0"> Motivation </a>
     <!-- vagrant nav toc: " Creating an isolated environment with Virtualenv " --> <li>  <a href="._virtualenv001.html#___sec1"> Creating an isolated environment with Virtualenv </a>
     <!-- vagrant nav toc: " Creating a slightly different environment " --> <li>  <a href="._virtualenv002.html#___sec2"> Creating a slightly different environment </a>
     <!-- vagrant nav toc: " Copying an environment " --> <li class="active">  <a href="._virtualenv003.html#___sec3"> Copying an environment </a>
     <!-- vagrant nav toc: " Installing a scientific computing environment " --> <li>  <a href="._virtualenv004.html#___sec4"> Installing a scientific computing environment </a>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 2,
 'sections': [(' Motivation ', 2, None, '___sec0'),
              (' Creating an isolated environment with Virtualenv ',
               2,
               None,
               '___sec1'),
              (' Creating a slightly different environment ',
               2,
               None,
               '___sec2'),
              (' Copying an environment ', 2, None, '___sec3'),
              (' Installing a scientific computing environment ',
               2,
               None,
               '___sec4')]}
end of tocinfo -->


<a name="part0003"></a>
<!-- !split -->

<h3>Copying an environment  <a name="___sec3"></a></h3>

<p>
There is not a good and easy way to fully share a virtual environment
across machines. The most convenient solution is first to create the
environment and then re-install this environment in a new
environment. A <em>requirements file</em> can be used for this cause. First
we use <code>pip freeze</code> to save a list of requirements to file:

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">(</span>venv2<span style="color: #666666">)</span>Terminal&gt; pip freeze &gt; requirements.txt
</pre></div>
<p>
If all the above steps in creating the <code>venv2</code> environment
have been followed, the requirements file should have the following content:

<p>

<!-- code=text (from !bc dat) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Django==1.4.1
argparse==1.2.1
wsgiref==0.1.2
yolk==0.4.3
</pre></div>
<p>
In case one has also installed a Python package from the repository of
a version control system, the particular commit version (and of course
the URL) is recorded as data for that package.

<p>
To replicate exactly the same environment inside another Virtualenv
environment, we create a new environment, say it is called <code>venv3</code>,
copy the <code>requirements.txt</code> file to the <code>venv3</code> environment, and use
<code>pip</code> to install all the packages and their versions specified in
<code>requirements.txt</code> at once:

<p>

<!-- code=bash (from !bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">(</span>venv3<span style="color: #666666">)</span>Terminal&gt; pip install -r requirements.txt
</pre></div>
<p>
A <code>yolk -l</code> command can be used to check the success of the multiple installations.

<p>
A word of caution is necessary here. Distributing a <code>requirements.txt</code>
file produced by <code>pip freeze</code> will not always re-create an environment
by a simple <code>pip install -r requirements.txt</code>.
For example, the output from <code>pip freeze</code> may not account for the
fact that some packages must be installed before others.
When creating a Python environment for doing scientific computing,
<code>numpy</code> is a package that must be installed before most other
packages. Some packages can be challenging to compile via
<code>pip install</code> (ScientificPython is an example, although manual
execution of <code>setup.py</code> runs fine).
Also, many Python scientific computing packages depend on
much non-Python software that cannot be installed by <code>pip</code>.
For such complex environments it is recommended to create a script
that performs the manual installation tasks, but it can utilize
<code>pip</code> to as large extent as possible.

<p>
<p>
<!-- ------------------- end of main content --------------- -->


<!--
Preliminary examples/discussion on vagrant style syntax

<div class='alert alert-block alert-notice'>
  <h3>What about PHP? Python? Java?</h3>
<p>
bla-bla.
</div>

<p>
While the <div class="deep-blue">rest of the</div> getting started
-->

<ul class="pager">
  <li class="previous">
    <a href="._virtualenv002.html">&larr; Prev</a>
  </li>

  <li class="next">
    <a href="._virtualenv004.html">Next &rarr;</a>
  </li>

</ul>

 </div>

 <div class="row Footer">
  <div class="span12">
  Copyright &copy 2013; Anders E. Johansen and Hans Petter Langtangen
  </div>
 </div>
</div>
</body>
</html>



